{% extends "admin/base.html" %}
{% load static %}

{% block content %}
<h2>Edit Product: {{ product.name }}</h2>

<form method="post">
  {% csrf_token %}

  <!-- Section 1: Product -->
  <div class="card mb-4">
    <div class="card-header"><h4>Product Details</h4></div>
    <div class="card-body">
      {{ product_form.as_p }}
    </div>
  </div>

  <!-- Section 2: Variants -->
  <div class="card mb-4">
    <div class="card-header"><h4>Variants</h4></div>
    <div class="card-body">
      {{ variant_formset.management_form }}
      {% for form in variant_formset %}
        <div class="border p-2 mb-2">
          {{ form.as_p }}
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Section 3: Images -->
  <div class="card mb-4">
    <div class="card-header"><h4>Images</h4></div>
    <div class="card-body">
      {{ image_formset.management_form }}
      {% for form in image_formset %}
        <div class="border p-2 mb-2">
          {{ form.as_p }}
        </div>
      {% endfor %}
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Save All</button>
</form>

{% endblock %}
