{% extends 'admin/base.html' %}
{% block title %}Dashboard - Walkon Admin{% endblock %}
{% load static %}

{% block content %}
<div class="container-fluid px-3 px-md-4">
  <h1 class="h3 fw-semibold mb-3">Dashboard</h1>

  <!-- Main Content -->
  <main class="flex-grow-1">
    <h4 class="fs-5 mb-3">Today's Sales</h4>
    <div class="row g-3">
      <div class="col-6 col-lg-3">
        <div class="card card-box bg-primary text-white small-card">
          <div class="card-body p-3">
            <h5 class="mb-1">$ {{ total_sales }}k</h5>
            <p class="mb-1 small">Total Sales</p>
            <small>+4% from yesterday</small>
          </div>
        </div>
      </div>

      <div class="col-6 col-lg-3">
        <div class="card card-box bg-success text-white small-card">
          <div class="card-body p-3">
            <h5 class="mb-1">{{ total_orders }}</h5>
            <p class="mb-1 small">Total Orders</p>
            <small>+2% from yesterday</small>
          </div>
        </div>
      </div>

      <div class="col-6 col-lg-3">
        <div class="card card-box bg-warning text-white small-card">
          <div class="card-body p-3">
            <h5 class="mb-1">{{ products_sold }}</h5>
            <p class="mb-1 small">Products Sold</p>
            <small>+3% from yesterday</small>
          </div>
        </div>
      </div>

      <div class="col-6 col-lg-3">
        <div class="card card-box bg-danger text-white small-card">
          <div class="card-body p-3">
            <h5 class="mb-1">{{ new_customers }}</h5>
            <p class="mb-1 small">New Customers</p>
            <small>+5% from yesterday</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts -->
    <div class="row mt-3 g-3">
      <div class="col-12 col-lg-6">
        <div class="card p-3 h-100">
          <h6 class="fs-6">Total Order / Customer Growth / Revenue</h6>
          <canvas id="pieChart"></canvas>
        </div>
      </div>
      <div class="col-12 col-lg-6">
        <div class="card p-3 h-100">
          <h6 class="fs-6">Product Sold</h6>
          <canvas id="lineChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Revenue -->
    <div class="card mt-3 p-3">
  <h6 class="fs-6">Total Revenue</h6>
  <canvas id="revenueChart" style="height:200px;"></canvas>
</div>


<style>
  /* Reduce card height and padding */
  .small-card .card-body {
    min-height: 100px;
  }

  /* Make text smaller on small devices */
  @media (max-width: 768px) {
    h1.h3 {
      font-size: 1.25rem;
    }
    .card-body h5 {
      font-size: 1rem;
    }
    .card-body p,
    .card-body small {
      font-size: 0.75rem;
    }
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/admin_js.js' %}"></script>


{% endblock %}
